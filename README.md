# Fisher Iris Data Project, programming and scripting module 2020
### By Donal Buggy

## Problem statement

The purpose of this project is to provide a statistical analysis of the **Fisher iris dataset**. This will involve writing Python code to explore relationships between and trends within the data:
1. A summary text file will be gerenated given a statistical breakdown of the data: mean, median, standard deviation, etc.
2. A histogram will be generated for each of the four varaible which the dataset measures: sepal length, sepal width, petal length, and petal width. These plots will measure the frequency of each value for each of these four variables.
3. A scatterplot will be generated for each pair of variables (sepal length vs. petal length, etc.). These plots will demonstrate how the values for each variable cluster together, with each species being designated by its own colour (a legend is provided for each plot).

The files which are generated by the code will be saved to the user's computer. The save location will be displayed as part of the code output.


## History and description

The Fisher iris dataset was created in 1936 by British statistician and biologist Ronald Fisher and American botanist Edgar Anderson. The dataset records information on fifty specimens of iris flowers from three species: *Iris setosa*, *Iris virginica* and *Iris versicolor*. Measurements of petal length, petal width, sepal length and sepal width were taken from each flower, with no null/empty entries in the dataset. The collection of multiple independent variables makes this a multivariate dataset, which allows for the creation of multidimensional analyses such as those generated in the Histogram section of this project.

Because the dataset is well-known among statisticians and data scientists, is relatively simple -- containing only four variables in three classes (species) -- and has good variation in data values while being relatively small -- 150 data points for each variable, 50 for each species -- it is highly useful as a tool for experimenting with new tools and methodologies for analysing datasets. For example, Venkata Sai Reddy Avuluri in the Medium article linked [here](https://medium.com/@avulurivenkatasaireddy/exploratory-data-analysis-of-iris-data-set-using-python-823e54110d2d) provides an extensive exploratory analysis of the set using both univariate and bivariate measures. The dataset has also been used as a pattern-recognition tool in the field of machine learning: [an article](https://archive.ics.uci.edu/ml/datasets/Iris/) by the Center for Machine Learning and Intelligent Systems references a sample of one hundred papers in the machine learning field which cite the dataset.


## Running the code
The code for this project can be run in Visual Studio Code or a similar code editor, simply by downloading the file and executing it in the editor. All outputs generated by the code will be stored in the directory where the user's Python package is installed, and the code will return this location in a string while executing for ease of access.

The code can also be run from the command line. Use the `cd` command to navigate to the location of the analysis.py file and enter `python analysis.py`. The code will then run in the command line, and the files will be generated in the directory where analysis.py is stored.


# Code breakdown

## Packages and data

The code first downloads all packages used in analysing the dataset. They are as follows:
```
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import statistics
import os
```
Pandas is used to read the contents of the CSV file; Matplotlib.pyplot is used to generated the histogram plots and to save and display the histogram and scatter plots; Seaborn is used to generate the scatter plots, as it allows the species to be differentiated; Statistics is used to generate the additional data for the summary text file; and OS is used to display the location of the generated files.

The code then uses the Pandas package to read the contents of the CSV file containing the iris dataset, and the contents are then passed into the variable `df`. A sample of the data (the first and last five lines) is also printed.

## Data summary

The code's first operation is to generate a summary text file in which a statistical summary of the data is given. The data is broken down as folows:
- Count (number of data points for each variable)
- Mean of each variable
- Standard deviation
- Minimum value
- the 25th percentile
- 50th percentile
- 75th percentile
- the maximum value
- the median value
- the mode

All but the final two values are found using Python's `describe()` function. The results of the `describe()` funciton are saved as a string to the variable `describeStats`.

The median and mode values are found using the `median()` and `mode()` functions in the Statistics package. These values are calculated for each variable in a string which is formatted to align with the output of `describe()`. The strings for the median and mode values are then passed into the variables `medianStats` and `modeStats`.

```describeStats = str(df.describe())

medianStats = str("median     " + str(statistics.median(df.sepal_length)) + "00000" + "     " + str(statistics.median(df.sepal_width)) + "00000" + "      " + str(statistics.median(df.petal_length)) + "0000" + "     " + str(statistics.median(df.petal_width)) + "00000")

modeStats = str("mode       " + str(statistics.mode(df.sepal_length)) + "00000" + "     " + str(statistics.mode(df.sepal_width)) + "00000" + "      " + str(statistics.mode(df.petal_length)) + "00000" + "     " + str(statistics.mode(df.petal_width)) + "00000")
```

The `open()` function is then used to create the file `summary.txt` and is passed the "w" variable, setting the mode to "write". The new text file is then passed a descriptive heading string, followed by the values of each of the variables defined above:

```
summaryText = open("summary.txt", "w")
summaryText.write("Summary of statistical information on Fisher's iris data set:" + "\n" + "\n")
summaryText.write(describeStats + "\n" + medianStats + "\n" + modeStats)
summaryText.close()
```

The results of the summary operation are as follows:
```
Summary of statistical information on Fisher's iris data set:

       sepal_length  sepal_width  petal_length  petal_width
count    150.000000   150.000000    150.000000   150.000000
mean       5.843333     3.054000      3.758667     1.198667
std        0.828066     0.433594      1.764420     0.763161
min        4.300000     2.000000      1.000000     0.100000
25%        5.100000     2.800000      1.600000     0.300000
50%        5.800000     3.000000      4.350000     1.300000
75%        6.400000     3.300000      5.100000     1.800000
max        7.900000     4.400000      6.900000     2.500000
median     5.800000     3.000000      4.350000     1.300000
mode       5.000000     3.000000      1.500000     0.200000
```

Finally, a string is returned which gives the location of the generated text file:
```
print("The summary text file has been added to " + os.getcwd())
```


## Histograms

The code then generates a histogram for each of the four variables.
A histogram is a type of graph or plot which is used to represent the distribution of data. The X-axis consists of a number of intervals (buckets) which divide up a set of numerical data -- in this case, the measurements of petal length, petal width, etc. Because the histogram is based on intervals rather than discrete values, data points which differ by only small amounts may fall into the same interval. The Y-axis gives the number of occurences of each of data point within each bucket, giving an overall frequency distribution for the data.

The Pyplot module from the Matplotlib library is used to generate the plots. The code is as follows:

```
plt.hist(df.sepal_length, bins=20, edgecolor="black")
plt.title("Sepal Length")
plt.xlabel("Length (cm)")
plt.ylabel("Frequency")
plt.savefig("sl_hist.png")
plt.show()
```

The data from the CSV file was earlier passed into the `df` variable; the "sepal_length" data from that variable is now passed into the `hist()` function to define the values of the plot. The number of bins (20) is also defined, and the bars of the plot are given a black border for clarity. The title and axis labels of the histogram are then defined for this variable, and pyplot's `savefig()` and `show()` functions are used to save the plot as a PNG and to display it to the user.

This process is repeated for each of the four measurement variables. We can see from the generated images below that there are distinct patterns in the data. While the sepal length and width measurements follow roughly normal distributions, the petal length measurements are bimodal, with two distinct peaks, while the petal width measurements feature one very high frequency in the 0.0 - 0.5 range and a wider distribution in the longer measurements.

After giving consideration to UX (user experience) requirements, I added the line `print("Generating histograms ...")` to display while the histograms were being generated and displayed. It is generally advisable from a usability standpoint to let the user know when a distinct operation begins and ends. When the histograms finish generating, this print line is replaced with the announcement of the file location of the new images: `print("The histogram images have been added to " + os.getcwd())`.

### Histogram outputs

![Sepal length histogram](https://github.com/donalbuggy/programming-scripting-project/blob/master/sl_hist.png)

![Sepal width histogram](https://github.com/donalbuggy/programming-scripting-project/blob/master/sw_hist.png)

![Petal length histogram](https://github.com/donalbuggy/programming-scripting-project/blob/master/pl_hist.png)

![Petal width histogram](https://github.com/donalbuggy/programming-scripting-project/blob/master/pw_hist.png)


## Scatter plots

The code then generates scatter plots for each pair of variables. It was important in this section to differentiate between the three species of flowers, as there are distinct differences in the patterns found in each species' length/width data. The Seaborn package makes this extremely simple, as the "hue" attribute is simply set to "species", i.e., the colour of the points on the graph is determined by what value is found in the "species" column for that row in the CSV file.

A variable (`plpw`) is first defined using the `scatterplot()` function of the Seaborn library. The "x" attribute is defined as the data from the "petal_length" column, the "y" attribute is defined as the data from the "petal_width" column, and the "data" attribute is defined as the `df` variable, i.e., all data for this plot will be taken from that variable.
The scale of the plot is then defined by passing `xscale="linear"` to the `set()` function attached to the `plpw` variable. As in the previous section, Pyplot's `savefig()` function is used to save the plot as a PNG, and `plt.show()` is used to display the plot to the user.

```
plpw = sns.scatterplot(x="petal_length", y="petal_width", hue="species", data=df)
plpw.set(xscale="linear")
plt.savefig("pl_pw.png")
plt.show()
```

This operation is repeated for each pair of variables.

When a plot has been generated for each pair of variables, a matrix showing all combinations is also generated using the following lines of code:

```
sns.pairplot(df, hue="species")
plt.savefig("species_matrix.png")
plt.show()
```

### Scatter plot outputs

![Petal length vs petal width](https://github.com/donalbuggy/programming-scripting-project/blob/master/pl_pw.png)
![Petal length vs sepal length](https://github.com/donalbuggy/programming-scripting-project/blob/master/pl_sl.png)
![Petal length vs sepal width](https://github.com/donalbuggy/programming-scripting-project/blob/master/pl_sw.png)
![Sepal length vs petal width](https://github.com/donalbuggy/programming-scripting-project/blob/master/sl_pw.png)
![Sepal length vs sepal width](https://github.com/donalbuggy/programming-scripting-project/blob/master/sl_sw.png)
![Petal width vs sepal width](https://github.com/donalbuggy/programming-scripting-project/blob/master/pw_sw.png)
![Species matrix](https://github.com/donalbuggy/programming-scripting-project/blob/master/species_matrix.png)


## Analysis

The examination of the data above demonstrates that the *iris setosa* species shows clear morphological differences from *iris versicolor* and *iris viginica*, which are more morphologically similar to each other. The measurements of the physical attributes of the *setosa* often differed from those of the other two species by at least a full centimetre, while also showing a much greater range in values (particularly in the sepal width vs petal length/petal width scatter plots. While *virginica* and *versicolor* also had frequent overlap in the values of their measurements, the measurements of *setosa* specimens tended to be highly distinct and to cluster together to a greater extent.


## References

- Youtube (2019) Matplotlib Tutorial (Part 6): Histograms [online] Available at: https://www.youtube.com/watch?v=XDv6T4a0RNc
- Sharma, Aditya. Histograms in Matplotlib. [online] Available at: https://www.datacamp.com/community/tutorials/histograms-matplotlib
- (2019) Histograms - Matplotlib 3.1.0 documentation. [online] Available at: https://matplotlib.org/3.1.0/gallery/statistics/hist.html
- (2014) Finding median of list in Python. [online] Available at: https://stackoverflow.com/questions/24101524/finding-median-of-list-in-python
- Avuluri, V.S.R. (2019) Exploratory Data Analysis of IRIS Data Set Using Python. [online] Available at: https://medium.com/@avulurivenkatasaireddy/exploratory-data-analysis-of-iris-data-set-using-python-823e54110d2d
- Pydata.org. Pandas.DataFrame.describe. [online] Available at: https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html
- Center for Machine Learning and Intelligent Systems. UCI Machine Learning Repository: Iris Data Set. [online] Available at: https://archive.ics.uci.edu/ml/datasets/Iris/
- Tutorialspoint.org. Python os.getcwd() Method - Tutorialspoint. [online] Available at: https://www.tutorialspoint.com/python/os_getcwd.htm
- (2019) How To Specify Colors to Scatter Plots in Python? [online] Available at: https://cmdlinetips.com/2019/04/how-to-specify-colors-to-scatter-plots-in-python/
- McLoughlin, Ian (2020). What is a program or script? [online] Available at: https://web.microsoftstream.com/video/025ef713-d7c8-492f-97f4-5590015da029
